{% extends "account/_base.html" %}
{% load static %}
{% load i18n %}
{% load account %}

{% block  title %}{% trans "Confirm E-mail Address" %}{% endblock %}


{% block content %}

<div class="w-full max-w-[768px] mx-auto my-10">

    <div class="p-6 md:py-12  md:border-2 border-neutral-300 rounded-md">
        <h1 class="text-2xl text-center font-bold mb-4 text-neutral-700">{% trans "Confirm E-mail Address" %}</h1>
        <hr class="my-3 md:mt-12 h-0.5 border-t-0 bg-neutral-100 opacity-100 dark:opacity-50" />

        {% if confirmation %}
            <div class="flex justify-center text-primary-500">
                <svg class="w-[100px] h-[100px] stroke-success"  viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g id="Warning / Shield_Check"> <path id="Vector" d="M15 9L11 13L9 11M20 10.165C20 16.7333 15.0319 19.6781 12.9258 20.6314L12.9231 20.6325C12.7016 20.7328 12.5906 20.7831 12.3389 20.8263C12.1795 20.8537 11.8215 20.8537 11.6621 20.8263C11.4094 20.7829 11.2972 20.7325 11.074 20.6314C8.9678 19.6781 4 16.7333 4 10.165V6.2002C4 5.08009 4 4.51962 4.21799 4.0918C4.40973 3.71547 4.71547 3.40973 5.0918 3.21799C5.51962 3 6.08009 3 7.2002 3H16.8002C17.9203 3 18.4796 3 18.9074 3.21799C19.2837 3.40973 19.5905 3.71547 19.7822 4.0918C20 4.5192 20 5.07899 20 6.19691V10.165Z"  stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g> </g></svg>
            </div>

            {% user_display confirmation.email_address.user as user_display %}
            <p class="py-3 text-neutral-600">
                メールアドレス  <a class="text-blue-400" href="mailto:{{ email }}">{{ email }}</a>  がユーザーのものであることを確認してください。
            </p>
    
            <form method="post" action="{% url 'account_confirm_email' confirmation.key %}" class="mb-3 mx-auto block">
            {% csrf_token %}

            <button
            type="submit"
            class="block mx-auto mt-4 rounded bg-success px-6 pb-2 pt-2.5 font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#14a44d] transition duration-150 ease-in-out hover:bg-success-600 hover:shadow-[0_8px_9px_-4px_rgba(20,164,77,0.3),0_4px_18px_0_rgba(20,164,77,0.2)] focus:bg-success-600 focus:shadow-[0_8px_9px_-4px_rgba(20,164,77,0.3),0_4px_18px_0_rgba(20,164,77,0.2)] focus:outline-none focus:ring-0 active:bg-success-700 active:shadow-[0_8px_9px_-4px_rgba(20,164,77,0.3),0_4px_18px_0_rgba(20,164,77,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(20,164,77,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(20,164,77,0.2),0_4px_18px_0_rgba(20,164,77,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(20,164,77,0.2),0_4px_18px_0_rgba(20,164,77,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(20,164,77,0.2),0_4px_18px_0_rgba(20,164,77,0.1)]">
            {% trans 'Confirm' %}
            </button>
        
        {% else %}
            <div class="flex justify-center">
                <svg class="w-[100px] h-[100px] stroke-warning-500"  viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M12 15H12.01M12 12V9M4.98207 19H19.0179C20.5615 19 21.5233 17.3256 20.7455 15.9923L13.7276 3.96153C12.9558 2.63852 11.0442 2.63852 10.2724 3.96153L3.25452 15.9923C2.47675 17.3256 3.43849 19 4.98207 19Z"  stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>
            </div>
            <p class="py-3 text-neutral-600">
                このメール確認リンクは有効期限が切れているか、無効です。 新しい電子メール確認リクエストを発行してください。
            </p>
        {% endif %}
    </div>
</div>


{% endblock %}
